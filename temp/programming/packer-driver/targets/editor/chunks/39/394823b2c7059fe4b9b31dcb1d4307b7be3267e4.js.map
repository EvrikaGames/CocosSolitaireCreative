{"version":3,"sources":["file:///D:/Cocos/CocosWordLineCreative/assets/scripts/ui/CrosswordLetterComponent.ts"],"names":["_decorator","Component","Label","Sprite","tween","UITransform","Vec3","ccclass","property","CrosswordLetterComponent","type","letter","opened","start","changeState","setLetter","label","string","toUpperCase","setSize","size","transform","getComponent","height","width","spriteClose","spriteOpen","updateUI","node","to","scale","call","active","repeatWordAnimation","by","position"],"mappings":"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","sourcesContent":["import { _decorator, Component, Label, Node, Sprite, tween, UITransform, Vec3 } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CrosswordLetterComponent')\r\nexport class CrosswordLetterComponent extends Component {\r\n\r\n    @property({type:Label})\r\n    private label = null;\r\n\r\n    @property({type:Sprite})\r\n    private spriteClose = null;\r\n\r\n    @property({type:Sprite})\r\n    private spriteOpen = null;\r\n\r\n    private letter: string;\r\n    public opened: boolean;\r\n\r\n    start() {\r\n        this.changeState(false);\r\n    }\r\n\r\n    setLetter(letter: string) {\r\n        this.letter = letter;\r\n        this.label.string = this.letter.toUpperCase();\r\n    }\r\n\r\n    setSize(size: number) {\r\n        let transform = this.getComponent(UITransform);\r\n        transform.height = size;\r\n        transform.width = size;\r\n        \r\n        transform = this.label.getComponent(UITransform);\r\n        transform.height = size;\r\n        transform.width = size;\r\n\r\n        transform = this.spriteClose.getComponent(UITransform);\r\n        transform.height = size;\r\n        transform.width = size;\r\n\r\n        transform = this.spriteOpen.getComponent(UITransform);\r\n        transform.height = size;\r\n        transform.width = size;\r\n    }\r\n\r\n    changeState(opened: boolean) {\r\n        this.opened = opened;\r\n\r\n        if (!opened) {\r\n            this.updateUI(opened)\r\n            return;\r\n        }\r\n\r\n        tween(this.node)\r\n        .to(0.1, { scale: new Vec3(0.8, 0.8, 0.8)})\r\n        .to(0.2, { scale: new Vec3(1, 1, 1)})\r\n        .call(() => this.updateUI(opened))\r\n        .start()\r\n    }\r\n\r\n    private updateUI(opened: boolean) {\r\n        this.spriteClose.node.active = !opened;\r\n        this.spriteOpen.node.active = opened;\r\n        this.label.node.active = opened;\r\n    }\r\n\r\n    repeatWordAnimation() {\r\n        tween(this.node)\r\n        .by(0.05, { position: new Vec3(10, 0)})\r\n        .by(0.1, { position: new Vec3(-20, 0)})\r\n        .by(0.1, { position: new Vec3(20, 0)})\r\n        .by(0.05, { position: new Vec3(-10, 0)})\r\n        .start()        \r\n    }\r\n}\r\n\r\n"]}